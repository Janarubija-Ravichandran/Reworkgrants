<div class="form-wrapper">
  <div class="card">
    <h2>{{ userExists ? "Edit Your Details" : "Add Your Details" }}</h2>

  <form (ngSubmit)="onSubmit(userForm)" #userForm="ngForm">
    <div class="p-fluid p-grid form-container">
      <div class="p-field fn">
        <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        [(ngModel)]="user.email"
        name="email"
        required
        #emailInput="ngModel"
        [readonly]="userExists"
      />
      <div *ngIf="emailInput.invalid && emailInput.touched">
        Email is required
      </div>
    </div>

    <div class="p-field fn">
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        [(ngModel)]="user.name"
        name="name"
        required
        #nameInput="ngModel"
      />
      <div *ngIf="nameInput.invalid && nameInput.touched">
        Name is required
      </div>
    </div>

    <div class="p-field fn">
      <label for="organization_name">Organization Name:</label>
      <input
        type="text"
        id="organization_name"
        [(ngModel)]="user.organization_name"
        name="organization_name"
      />
    </div>

    <div class="p-field fn">
      <label for="address">Address:</label>
      <input
        type="text"
        id="address"
        [(ngModel)]="user.address"
        name="address"
      />
    </div>

    <div class="p-field fn">
      <label for="city">City:</label>
      <input type="text" id="city" [(ngModel)]="user.city" name="city" />
    </div>

    <div class="p-field fn">
      <label for="state">State:</label>
      <input type="text" id="state" [(ngModel)]="user.state" name="state" />
    </div>

    <button type="submit" [disabled]="userForm.invalid">
      Add Details
    </button>
  </div> </form>

  <div *ngIf="message" class="message">{{ message }}</div>
</div>
